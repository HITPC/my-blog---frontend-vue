# 配置此项目的步骤（当作复习）

## 1. 配置路由

首先，需要进行npm i vue-router@3(vue2项目的话，vue3使用4版本)。然后在src下创建view文件夹，用于存放路由页面。然后src下创建router文件夹，里面给上一个index.js和routes.js文件。文件内容如下：

```js
//index.js 用于配追路由配置以及浏览器的历史模式等 这里是最重要的地方
import { createRouter, createWebHistory } from "vue-router";
import routes from "./routes";

const router = createRouter({
  history: createWebHistory(),
  routes
});

export default router;
```

```js
//routes.js 其实可以与index.js合写在一起，分开写方便些 这里编辑的是router中的路由列表 从上向下匹配
const routes = [
  {
    path: "/",
    redirect: "/login"
  },
  {
    name: "index",
    path: "/index",
    component: () => import("@/view/index"),
    meta: {title: "主页"},
    children: []//子路由 里面写的和外面一样 注意路径不用加上外面的 自己是自己的就行
  },
  {
    name: "login",
    path: "/login",
    meta: {title: "登入"},
    component : () => import("@/view/login")
  },
    {
    name: "404",
    path: "/404",
    meta: {title: "页面不见了"},
    component: () => import("@/view/404")
  },
  //写在最底部，实现找不到路径跳转到404页面
  {
    path: '/:pathMatch(.*)',
    redirect: '/404'
  }
];

export default routes;
```

同时还需要在main.js中进行配置：

```js
import { createApp } from 'vue'
import App from './App.vue'
// 引入路由
import router from './router';

createApp(App).use(router).mount('#app');//注意use要在mount之前

```

然后添加router-view标签作为路由组件的渲染容器。一般直接放在app里。

然后是跳转到指定路由，使用router-link标签或者是this.$router.push("路径名字")这个方法。

然后配置404页面：

配置路由守卫：在index.js里，在router对象身上。注意三个参数的顺序。https://blog.csdn.net/qq_54334713/article/details/126721576  前置后置组件内独享(在routes中配置)。

```js
//配置白名单，名单中的路径无需守卫
const whiteRouter = ["/login", "/404"];

//配置前置路由守卫
router.beforeEach((to, from, next)=>{
  if(whiteRouter.indexOf(to.path) == -1){//要去的不是白名单中的路由 需要鉴权
    let token = localStorage.getItem("token");
    if(token){
      next();
    }else{
      next("/login");
    }
  }else{
    next();
  }
});

//后置路由守卫实现标题切换 
router.afterEach((to) => { 
  document.title = to.meta.title
});
```

## 2. 一些CSS属性

配置渐变色：https://blog.csdn.net/m0_64231944/article/details/127706916

```css
/*使用下列属性*/
body{
    background-image: linear-gradient(right to bottom, color1, color2);
}

```

text-ident：设置文本的首行缩进，在input里设置的可能多一些，设置占位文本的缩进。

inset：https://blog.csdn.net/u011781521/article/details/125253075 用作定位元素位置的left right bottom top的简写 对应顺序为top: 0; right: 0; bottom: 0; left: 0;   inset:0;即为此top: 0; right: 0; bottom: 0; left: 0;

v-bind单项绑定 v-model双向绑定

**配置element-ui**：vue3不能用element-ui（vue2专属），只能用element-plus，首先是使用npm install element-plus --save指令安装。然后在main.js中加上以下句子：

```js
import ElementPlus from 'element-plus';
import 'element-plus/theme-chalk/index.css';

import locale from 'element-plus/lib/locale/lang/zh-cn';

createApp(App).use(ElementPlus, { locale }).mount("#app");//一定要在挂载之前进行使用
```

新版使用与原来不太一样了。新版的引入有点繁琐？还是我之前的引入不会写了。

vue3的相关属性的使用：

vue3 watch：要监视属性名(不要this):{handler(newValue,oldValue){  }}  当被监视的变量的值发生变化的时候，就会调用handler函数。

vue3 computed：data里不用写这个变量的名字，只在computed写即可，用的时候一样用。然后还有就是必须要有返回值。直接写成属性名:function(){}的形式来处理，这个函数就会被直接当成getter。完全体：name:{get(){return xxx},set(){xxxx}} 简写:name:function(){return xxxx} 即可。



router-link在css里当成a标签去使用选择器即可。不要用router-link，会导致选择不到的。router-link一定要带着to属性，哪怕填空字符串，也是一定要有的！

**使用伪元素一定要加的是content和display:block啥的！不加没有效果的**

**想要让一个盒子具有当内容少的时候，维持固定高度，当内容较多的时候，根据内容多少自动调节高度**这样的功能的话，可以使用min-height来设置，同时，要是文字内容，还需要配合使用overflow-wrap: break-word进行换行。

## 3. 组件参数传递

vue3兄弟组件间传参：绑定事件总线在vue3中因为Vue.prototype被取消，所以不再被使用了。在Vue3中我们通常会使用mitt库或者vuex作为参数传递的媒介。对于较大型的项目而言，一般使用vuex，但是对于小型项目，一般使用mitt作为媒介。使用方式：首先得安装npm install mitt --save，然后引入，创建eventBus.js文件（文件名自定义即可）

```js
import mitt from 'mitt';

const emitter = mitt();
export default emitter;
```

然后在发送端和接收端都要引入这个函数:

```js
import emitter from "../untils/bus"; //这里的路径是自定义的
```

发送端再去书写：

```js
// 前面是事件名称，后面是要传入的参数
emitter.emit("response", response);
```

接收端书写：

```js
// 这样两个组件间就可以进行传值通信了
emitter.on("response", (response) => {
    console.log(response);
});
```

另外，父子组件传参可以使用组件的props属性相关的内容：https://blog.csdn.net/severestcritic/article/details/121434943

三类：

1. 父向子传参，最为简单，在书写子组件的时候，<componenetName propName=propValue \>，同时在子组件中的props属性要声明对应的prop，然后写明类型啥的。
2. 子向父传参（常规版）：详见文章
3. 子向父传参（v-model）：详见文章

**使用this.$router.push({ name: 'ArticlePage'(这里是路由名，不是组件名), params: { id: id } });可以进行路由跳转以及携带参数！携带的参数为路由参数，对应下面的这种路由规则：**

```js
import Vue from 'vue';
import Router from 'vue-router';
import ArticlePage from '@/components/ArticlePage';

Vue.use(Router);

export default new Router({
  routes: [
    {
      path: '/article/:id',
      name: 'ArticlePage',
      component: ArticlePage,
    },
  ],
});

```

这样子就可以实现类似于正常的博客网站的在连接后面跟数字的博客文章地址的效果了。同样的，需要拿出来，这并不是组件的参数，而是通过路由携带的参数：

```js
data () {
  return {
    articleID: this.$route.params.id,
  }
},
```

